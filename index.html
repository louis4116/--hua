<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="./css/index.css" />
    <title>樺輝建設</title>
  </head>
  <body>
    <nav id="nav">
      <div class="nav-icon">
        <img src="./img/home/樺輝icon.png" alt="樺輝icon" />
      </div>
      <div class="nav-list">
        <ul class="nav-list-ul">
          <li>關於品牌</li>
          <li>熱銷建案</li>
          <li>經典作品</li>
          <li>最新消息</li>
          <li>聯絡我們</li>
        </ul>
      </div>
    </nav>
    <main id="home-main">
      <section class="home-cut-1">
        <div class="home-cut-1-video">
          <video
            autoplay
            loop
            muted
            playsinline
            src="./img/home/LOGO動態-1.mp4"
          ></video>
        </div>
        <div class="home-cut-1-para">
          <h1>HOME FROME HEART</h1>
          <h2>繁樺座標•榮耀輝映</h2>
          <p>最好的建築 ，是近觀微米之間的工藝 。</p>
          <p class="home-cut-1-para-line"><span></span>追求極致 給你最好</p>
        </div>
        <!-- <div class="drops drops-1 ph">
          <img src="./img/home/模糊icon.png" alt="模糊icon" />
        </div>
        <div class="drops drops-5 ph">
          <img src="./img/home/4號.png" alt="4" />
        </div> -->
      </section>
      <section class="home-cut-2">
        <div class="drops drops-1">
          <img src="./img/home/模糊icon.png" alt="模糊icon" />
        </div>
        <div class="drops drops-2">
          <img src="./img/home/1號.png" alt="1" />
        </div>
        <div class="drops drops-3">
          <img src="./img/home/2號.png" alt="2" />
        </div>
        <div class="drops drops-4">
          <img src="./img/home/3號.png" alt="3" />
        </div>
        <div class="drops drops-5">
          <img src="./img/home/4號.png" alt="4" />
        </div>
        <div class="home-cut-2-para">
          <div class="home-cut-2-para-img">
            <img src="./img/home/首頁-純icon.svg" alt="純icon" />
          </div>
          <h1>CRAFTING EXCELLENCE</h1>
          <h1>LIVING IN TASTE.</h1>
          <h3>面對事件的態度，活出品味心高度。</h3>
          <p>在這追求速度換取利潤的時代，</p>
          <p>
            <span>樺輝建設秉持「數年磨一劍」的信念，</span
            ><span>注重每個細節的要求及優質的選材，</span>
          </p>
          <p>
            <span>以細膩的精工和堅定的決心，</span
            ><span>不斷提升品質，絕不妥協。</span>
          </p>
        </div>
        <div class="home-cut-2-fixed-container">
          <div class="home-cut-2-fixed-first">
            <!--  <div class="home-cut-2-fixed-first-image">
              <img src="./img/home/旋轉背景圖.jpg" alt="" /> 
            </div>-->

            <!-- <div class="drops drops-2 ph">
              <img src="./img/home/1號.png" alt="1" />
            </div>
            <div class="drops drops-3 ph">
              <img src="./img/home/2號.png" alt="2" />
            </div>
            <div class="drops drops-4 ph">
              <img src="./img/home/3號.png" alt="3" />
            </div> -->

            <div class="home-cut-2-fixed-first-squre">
              <div class="yo">
                <canvas id="canvas"></canvas>
                <!-- <img class="yo-test" src="./img/home/旋轉背景圖.jpg" alt="" /> -->
                <!-- <div class="yo-test"></div> -->
              </div>
              <div class="home-cut-2-fixed-first-squre-wrapper">
                <div class="home-cut-2-fixed-first-squre-1">
                  <div class="home-cut-2-fixed-first-squre-text n-1">
                    <p>HUI CONSTRUCTION CO.,LTD HUA HUI</p>
                  </div>
                  <div class="home-cut-2-fixed-first-squre-text n-2">
                    <p>HUI CONSTRUCTION CO.,LTD HUA HUI</p>
                  </div>
                </div>
              </div>
              <div class="home-cut-2-fixed-first-squre-wrapper">
                <div class="home-cut-2-fixed-first-squre-2">
                  <div class="home-cut-2-fixed-first-squre-text n-3">
                    <p>HUI CONSTRUCTION CO.,LTD HUA HUI</p>
                  </div>
                  <div class="home-cut-2-fixed-first-squre-text n-4">
                    <p>HUI CONSTRUCTION CO.,LTD HUA HUI</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="home-cut-3">
        <div class="cut-3-title">
          <h1 class="cut-3-base">PORTFOLIO</h1>
          <div class="cut-3-title-content">
            <h3>PORTFOLIO</h3>
            <h4>經典作品</h4>
          </div>
        </div>
        <div class="cut-3-carousel">
          <div class="cut-3-carousel-swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img
                  class="swiper-img"
                  src="./img/home/輪播-大-1.png"
                  alt="cut-3-1"
                />
                <img
                  class="text-rotate"
                  src="./img/home/文字轉圈.png"
                  alt="文字轉圈"
                />
                <div class="swiper-slide-para">
                  <h1>INFO</h1>
                  <div class="swiper-slide-para-content">
                    <div class="swiper-slide-para-content-top">
                      <div></div>
                      <h3 class="swiper-slide-para-content-title">品世界</h3>
                      <div></div>
                    </div>
                    <p>
                      品味生活，走遍世界，終於發現原來回家遇見真實的自己，
                      才是真正的「品世界」。
                    </p>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <img
                  class="swiper-img"
                  src="./img/home/輪播-大-2.png"
                  alt="cut-3-2"
                />
                <img
                  class="text-rotate"
                  src="./img/home/文字轉圈.png"
                  alt="文字轉圈"
                />
                <div class="swiper-slide-para">
                  <h1>INFO</h1>
                  <div class="swiper-slide-para-content">
                    <div class="swiper-slide-para-content-top">
                      <div></div>
                      <h3 class="swiper-slide-para-content-title">品世界</h3>
                      <div></div>
                    </div>
                    <p>
                      品味生活，走遍世界，終於發現原來回家遇見真實的自己，
                      才是真正的「品世界」。
                    </p>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <img
                  class="swiper-img"
                  src="./img/home/輪播-大-3.png"
                  alt="cut-3-3"
                />
                <img
                  class="text-rotate"
                  src="./img/home/文字轉圈.png"
                  alt="文字轉圈"
                />
                <div class="swiper-slide-para">
                  <h1>INFO</h1>
                  <div class="swiper-slide-para-content">
                    <div class="swiper-slide-para-content-top">
                      <div></div>
                      <h3 class="swiper-slide-para-content-title">品世界</h3>
                      <div></div>
                    </div>
                    <p>
                      品味生活，走遍世界，終於發現原來回家遇見真實的自己，
                      才是真正的「品世界」。
                    </p>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <img
                  class="swiper-img"
                  src="./img/home/輪播-大-3.png"
                  alt="cut-3-3"
                />
                <img
                  class="text-rotate"
                  src="./img/home/文字轉圈.png"
                  alt="文字轉圈"
                />
                <div class="swiper-slide-para">
                  <h1>INFO</h1>
                  <div class="swiper-slide-para-content">
                    <div class="swiper-slide-para-content-top">
                      <div></div>
                      <h3 class="swiper-slide-para-content-title">品世界</h3>
                      <div></div>
                    </div>

                    <p>
                      品味生活，走遍世界，終於發現原來回家遇見真實的自己，
                      才是真正的「品世界」。
                    </p>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <img
                  class="swiper-img"
                  src="./img/home/輪播-大-3.png"
                  alt="cut-3-3"
                />
                <img
                  class="text-rotate"
                  src="./img/home/文字轉圈.png"
                  alt="文字轉圈"
                />
                <div class="swiper-slide-para">
                  <h1>INFO</h1>
                  <div class="swiper-slide-para-content">
                    <div class="swiper-slide-para-content-top">
                      <div></div>
                      <h3 class="swiper-slide-para-content-title">品世界</h3>
                      <div></div>
                    </div>

                    <p>
                      品味生活，走遍世界，終於發現原來回家遇見真實的自己，
                      才是真正的「品世界」。
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="swiper-button swiper-button-prev"></div>
            <div class="swiper-button swiper-button-next"></div>
          </div>
        </div>
      </section>
      <section class="home-cut-4">
        <div class="cut-4-pin">
          <div class="cut-4-pin-left">
            <img src="./img/home/輪播-1-1.webp" alt="輪播-1-1" />
            <img src="./img/home/輪播-1-2.webp" alt="輪播-1-2" />
            <img src="./img/home/輪播-1-3.webp" alt="輪播-1-3" />
            <img src="./img/home/輪播-1-1.webp" alt="輪播-1-1" />
            <img src="./img/home/輪播-1-2.webp" alt="輪播-1-2" />
            <img src="./img/home/輪播-1-3.webp" alt="輪播-1-3" />
          </div>
          <div class="cut-4-pin-center">
            <img src="./img/home/輪播-2-1.webp" alt="輪播-2-1" />
            <img src="./img/home/輪播-2-2.webp" alt="輪播-2-2" />
            <img src="./img/home/輪播-2-3.webp" alt="輪播-2-3" />
            <img src="./img/home/輪播-2-1.webp" alt="輪播-2-1" />
            <img src="./img/home/輪播-2-2.webp" alt="輪播-2-2" />
            <img src="./img/home/輪播-2-3.webp" alt="輪播-2-3" />
          </div>
          <div class="cut-4-pin-right">
            <img src="./img/home/輪播-3-1.webp" alt="輪播-3-1" />
            <img src="./img/home/輪播-3-2.webp" alt="輪播-3-2" />
            <img src="./img/home/輪播-3-3.webp" alt="輪播-3-3" />
            <img src="./img/home/輪播-3-1.webp" alt="輪播-3-1" />
            <img src="./img/home/輪播-3-2.webp" alt="輪播-3-2" />
            <img src="./img/home/輪播-3-3.webp" alt="輪播-3-3" />
          </div>
        </div>
        <div class="top-button">向上</div>
      </section>
      <section class="home-cut-5">
        <div class="cut-5-title">
          <h1 class="cut-5-base">NEWS</h1>
          <div class="cut-5-title-content">
            <h3>NEWS</h3>
            <h4>最新消息</h4>
          </div>
        </div>
        <div class="cut-5-news-card-container">
          <div class="cut-5-news-card">
            <img src="./img/home/最新消息-1.webp" alt="首頁-最新消息-1" />
            <div class="cut-5-news-card-contents">
              <h5 class="cut-5-news-card-date">2020-11-23</h5>
              <h1 class="cut-5-news-card-title">
                北市下個房市夯點？大咖建商積極搶進
              </h1>
              <p class="cut-5-news-card-para">
                台北市下一個最夯的房市熱點在哪？答案是面積廣達90多
                公頃的「北投士林科技園區」，被喻為繼內湖科技園區....
              </p>
              <div class="cut-5-news-card-more">
                <div class="cut-5-news-card-more-container">
                  <p>MORE</p>
                  <img src="./img/home/最新消息-箭頭.svg" alt="最新消息-箭頭" />
                </div>
              </div>
            </div>
          </div>
          <div class="cut-5-news-card">
            <img src="./img/home/最新消息-2.webp" alt="首頁-最新消息-2" />
            <div class="cut-5-news-card-contents">
              <h5 class="cut-5-news-card-date">2020-07-01</h5>
              <h1 class="cut-5-news-card-title">
                新莊、五股三重房價反彈 高CP值提升
              </h1>
              <p class="cut-5-news-card-para">
                三重仁義重劃區座擁雙捷運，生活機能良好，使該區新推
                案開價每坪4字頭，高CP值吸引民眾前往購屋。....
              </p>
              <div class="cut-5-news-card-more">
                <div class="cut-5-news-card-more-container">
                  <p>MORE</p>
                  <img src="./img/home/最新消息-箭頭.svg" alt="最新消息-箭頭" />
                </div>
              </div>
            </div>
          </div>
          <div class="cut-5-news-card">
            <img src="./img/home/最新消息-3.webp" alt="首頁-最新消息-3" />
            <div class="cut-5-news-card-contents">
              <h5 class="cut-5-news-card-date">2019-12-28</h5>
              <h1 class="cut-5-news-card-title">三重重陽重劃區生活環境佳</h1>
              <p class="cut-5-news-card-para">
                三重重陽重劃區生活環境佳，吸引許多建商積極開發推案。
                市容新穎，近來區內出現睽違多年罕見新推預售案。....
              </p>
              <div class="cut-5-news-card-more">
                <div class="cut-5-news-card-more-container">
                  <p>MORE</p>
                  <img src="./img/home/最新消息-箭頭.svg" alt="最新消息-箭頭" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer id="footer">
      <span>Copyright © 2023樺輝建設股份有限公司版權所有　</span>
      <span>地址：台北市內湖區民權東路六段123巷28號10樓　</span>
      <span>TEL： 02-27928078</span>
    </footer>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="./js/gsap/gsap.min.js"></script>
    <script src="./js/gsap/ScrollTrigger.min.js"></script>
    <script src="./js/bootstrap.bundle.min.js"></script>
    <script>
      window.onload = () => {
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        const yo = document.querySelector(".yo");
        // canvas.width = window.innerWidth;
        // canvas.height = window.innerHeight;
        $(window).on("resize", function () {
          // canvas.width = window.innerWidth;
          // canvas.height = window.innerHeight;
        });
        const rectX = (canvas.width - 400) / 2;
        const rectY = (canvas.height - 600) / 2;
        // const backImage = new Image();
        // backImage.src = "./img/home/旋轉背景圖.jpg";
        // backImage.onload = () => {
        //   ctx.fillStyle = "black"; // 遮罩顏色
        //   ctx.fillRect(rectX, rectY, 400, 400);
        //   ctx.save(); // 保存當前狀態
        //   ctx.beginPath();
        //   ctx.rect(rectX, rectY, 400, 400); // 正方形路徑
        //   ctx.clip(); // 裁剪路徑
        //   ctx.drawImage(backImage, 0, 0, canvas.width, canvas.height); // 繪製圖片
        //   ctx.restore();
        //   ctx.drawImage(backImage, 0, 0, canvas.width, canvas.height);
        //   // 使用 destination-in 合成模式
        //   ctx.globalCompositeOperation = "destination-in";
        //   // 繪製遮罩矩形
        //   ctx.fillRect(rectX, rectY, 400, 400);
        //   // 恢復為預設的合成模式
        //   ctx.globalCompositeOperation = "source-over";
        // };
        function drawMask(angle, num) {
          ctx.clearRect(0, 0, canvas.width, canvas.height); // 清除 canvas
          ctx.save(); // 保存當前狀態
          ctx.drawImage(backImage, 0, 0, canvas.width, canvas.height);
          ctx.globalCompositeOperation = "destination-in";
          ctx.translate(canvas.width / 2, canvas.height / 2); // 設置旋轉中心點
          ctx.rotate((angle * Math.PI) / 180); // 旋轉
          ctx.fillStyle = "black"; // 遮罩顏色
          ctx.fillRect(
            -150 * num * 10,
            -150 * num * 10,
            300 * num * 10,
            300 * num * 10
          ); // 繪製遮罩
          ctx.restore(); // 恢復原始狀態
        }

        gsap.registerPlugin(ScrollTrigger);
        //第二cut

        // gsap.to(".home-cut-2-fixed-first-squre-wrapper", {
        //   scrollTrigger: {
        //     trigger: ".home-cut-2-fixed-container ",
        //     toggleActions: "restart pause resume pause",
        //     start: "top top",
        //     end: "bottom bottom",
        //     pin: true,
        //     scrub: 0.2,
        //   },
        //   // scale: "5",
        //   // rotation: 180,
        // });
        let test = $(".home-cut-2-fixed-first-squre-2").offset().left;
        gsap.to(".home-cut-2-fixed-first-squre-wrapper", {
          scrollTrigger: {
            trigger: ".home-cut-2-fixed-container",
            toggleActions: "restart pause resume pause",
            start: "top top",
            pin: true,
            scrub: 0.2,
            onUpdate: () => {
              console.log(test);
            },
          },
          scale: "0.8",
          rotation: 40,
        });

        // gsap.to(".yo", {
        //   scrollTrigger: {
        //     trigger: ".home-cut-2-fixed-container ",
        //     toggleActions: "restart pause resume pause",
        //     start: "-10% top",
        //     end: "bottom bottom",
        //     onUpdate: (self) => {
        //       const progress = self.progress; // 取得滾動進度 (0 到 1 之間的值)
        //       const angle = 50 * progress; // 計算遮罩旋轉的角度 (0 到 360 度)
        //       drawMask(angle, progress); // 更新遮罩
        //     },
        //     scrub: 0.2,
        //   },
        // });

        //第三cut
        const root = document.documentElement;
        let cut3MarginTop = 10;
        let cut3MarginD = -10;
        let cut3Swiper = new Swiper(".cut-3-carousel-swiper", {
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          // autoplay: {
          //   delay: 2000,
          // },
          slidesPerView: 1.5,
          spaceBetween: 50,
          loop: true,
          centeredSlides: true,
          speed: 1000,
          breakpoints: {
            0: {
              slidesPerView: 1,
              spaceBetween: 110,
            },

            900: {
              spaceBetween: 300,
            },
          },
          on: {
            slideChange: function () {
              let active = this.activeIndex;
              console.log(active);
              let prev = this.previousIndex;
              //     let next = this.nextIndex;
              //     let thisIndex;
              //     let marginIndex;
              //     //刪除class
              // $(".swiper-slide").removeClass("before");
              $(".swiper-slide-para").removeClass("para-show");
              //     //新增class
              // $(".swiper-slide")
              //   .eq(prev - 1)
              //   .addClass("before");
              //     $(".swiper-slide").eq(prev).addClass("prev");
              // $(".swiper-slide").eq(active).addClass("para-show");
              $(".swiper-slide")
                .eq(active)
                .find(".swiper-slide-para")
                .addClass("para-show");
              //     $(".swiper-slide")
              //       .eq(active + 1)
              //       .addClass("next");
              //     $(".swiper-slide")
              //       .eq(active + 2)
              //       .addClass("after");
            },
          },
        });
        //第四cut
        gsap.to(".cut-4-pin-left", {
          scrollTrigger: {
            trigger: ".home-cut-4",
            toggleActions: "restart none restart none ",
            start: "top top",
            end: "bottom bottom",
            scrub: 0.1,
          },
          ease: "linear",
          transform: "translateY(100vw)",
        });
        gsap.to(".cut-4-pin-right", {
          scrollTrigger: {
            trigger: ".home-cut-4",
            toggleActions: "restart none restart none",
            start: "top top",
            end: "bottom bottom",
            scrub: 0.1,
          },
          ease: "linear",
          transform: "translateY(100vw)",
        });
        gsap.to(".top-button", {
          scrollTrigger: {
            trigger: ".top-button",
            toggleActions: "restart none restart none",
            start: "top top",
            end: "bottom bottom",
            scrub: 0.1,
            pin: true,
          },
        });
      };
      $(document).ready(function () {});
    </script>
  </body>
</html>
